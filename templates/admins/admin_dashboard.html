{% extends 'admins/tables-basic.html' %}


{% block content %}
{% load static %}
{% load mathfilters %}

<div class="content-wrapper">
<div class="container-xxl flex-grow-1 container-p-y">
    <div class="row">
      <div class="col-lg-8 mb-4 order-0">
        <div class="card">
          <div class="d-flex align-items-end row">
            <div class="col-sm-7">
              <div class="card-body">
                <h5 class="card-title text-primary">Welcome {{user.first_name}}</h5>
                <p class="mb-4">
                  You have done <span class="fw-bold">{{order_count}}</span>  sales today. 
                </p>

                {% comment %} <a href="javascript:;" class="btn btn-sm btn-outline-primary">View Badges</a> {% endcomment %}
              </div>
            </div>
            <div class="col-sm-5 text-center text-sm-left">
              <div class="card-body pb-0 px-0 px-md-4">
                <img
                  src="{% static 'adminstyle/assets/img/illustrations/man-with-laptop-light.png'  %}"
                  height="140"
                  alt="View Badge User"
                  data-app-dark-img="illustrations/man-with-laptop-dark.png"
                  data-app-light-img="illustrations/man-with-laptop-light.png"
                />
              </div>
            </div>
          </div>
        </div>
      </div>




     









      <div class="container-fluid pt-4 px-4">
        <div class="row g-4">

            <div class="col-sm-6 col-xl-3">
                <div class="bg-light rounded d-flex align-items-center justify-content-between p-4">
                    <i class="fa fa-chart-line fa-3x text-primary"></i>
                    <div class="avatar flex-shrink-0">
                        <img
                          src="https://img.icons8.com/color/2x/user-male-circle--v2.gif"
                         
                          class="rounded"
                        />
                      </div>
                      <div class="ms-3">
                        <p class="mb-2">Active users </p>
                        
                        <h6 class="mb-0">{{active_users }}</h6>
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-xl-3">
                <div class="bg-light rounded d-flex align-items-center justify-content-between p-4">
                    <i class="fa fa-chart-bar fa-3x text-primary"></i>
                    
                    <div class="avatar flex-shrink-0">
                        <img
                          src="https://img.icons8.com/color/2x/sale--v3.gif"
                         
                          class="rounded"
                        />
                      </div>

                    <div class="ms-3">
                        <p class="mb-2">Total Sale</p>
                        
                        <h6 class="mb-0">358</h6>
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-xl-3">
                <div class="bg-light rounded d-flex align-items-center justify-content-between p-4">
                    <i class="fa fa-chart-area fa-3x text-primary"></i>
                   
                    <div class="avatar flex-shrink-0">
                        <img
                          src="https://img.icons8.com/color/2x/shopping-cart--v2.gif"
                         
                          class="rounded"
                        />
                      </div>

                    <div class="ms-3">
                        <p class="mb-2">Total Orders</p>
                        
                        <h6 class="mb-0">{{order_count}}</h6>
                    </div>
                </div>
            </div>

            <div class="col-sm-6 col-xl-3">
                <div class="bg-light rounded d-flex align-items-center justify-content-between p-4">
                    <i class="fa fa-chart-pie fa-3x text-primary"></i>
                  
                    <div class="avatar flex-shrink-0">
                        <img
                          src="https://img.icons8.com/color/2x/sales-performance.png"
                         
                          class="rounded"
                        />
                      </div>

                    <div class="ms-3">
                        <p class="mb-2">Total Revenue</p>

                       
                        <h6 class="mb-0">&#x20B9;{{revenue}}</h6>
                    </div>
                </div>
            </div>

        </div>
    </div>







    <div class="container-fluid pt-4 px-4">
      <div class="row g-4">
           <div class="col-sm-12 col-xl-6">
              <div class="bg-light text-center rounded p-4">
                  <div class="d-flex align-items-center justify-content-between mb-4">
                      <h6 class="mb-0"> Sales Status</h6>
                      <a href="">Show All</a>
                  </div>
                  <canvas id="myChart"></canvas>
              </div>
          </div> 
          <div class="col-sm-12 col-xl-6">
              <div class="bg-light text-center rounded p-4">
                  <div class="d-flex align-items-center justify-content-between mb-4">
                      <h6 class="mb-0">Orders Status</h6>
                      <a href="{% url 'fullreport'%}">Show All</a>
                  </div>
                  <canvas id="statusChart"></canvas>
                  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" integrity="sha256-Uv9BNBucvCPipKQ2NS9wYpJmi8DTOEfTA/nH2aoJALw=" crossorigin="anonymous"></script>
                   <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.js"></script>
                   <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
                   <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                  <script>
                      var xValues =["Completed", "Accepted","Order Confirmed", "Cancelled", "Returned"];
                      var yValues = {{order_status}} ;
                      var barColors = ["green", "blue","yellow","red","brown"];


                      
                      
                      new Chart("statusChart", {
                        type: "bar",
                        data: {
                          labels: xValues,
                          datasets: [{
                            backgroundColor: barColors,
                            data: yValues
                          }]
                        },
                        options: {
                          legend: {display: false},
                          title: {
                            display: true,
                            text: "status"
                          }
                        }
                      });
                      
                      </script>
              </div>
          </div>
      </div>
  </div>





  







  <div class="container-fluid pt-4 px-4">
    <div class="bg-light text-center rounded p-4">
        <div class="d-flex align-items-center justify-content-between mb-4">
            <h6 class="mb-0">Recent Salse</h6>
            <a href="">Show All</a>
        </div>
        <div class="table-responsive">
            <table class="table text-start align-middle table-bordered table-hover mb-0">
                <thead>
                    <tr class="text-dark">
                        
                        <th scope="col">Date</th>
                        <th scope="col">Invoice</th>
                        <th scope="col">Customer</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Status</th>
                        
                    </tr>
                </thead>
                <tbody>
                    {% for recent in recent_order%}
                    <tr>
                        
                        <td>{{recent.created_at}}</td>
                        <td>{{ recent.payment }}</td>
                        <td>{{ recent.first_name }} {{ recent.last_name }}</td>
                        <td>&#x20B9;{{ recent.order_total }}</td>
                        <td>{{ recent.status }}</td>
                        
                    </tr>
                        {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>









          
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.6.0/chart.js"></script>
<script>
var xValues ={{dayday}};
var yValues = {{orderperday}} ;
var barColors = ["red", "green","blue","orange","brown"];

new Chart("myChart", {
  type: "bar",
  data: {
    labels: xValues,
    datasets: [{
      backgroundColor: barColors,
      data: yValues
    }]
  },
  options: {
    plugins:{
        legend: {display: false}
    },
   
    title: {
      display: true,
      text: "Order Data"
    }
    
  }
});
</script>




      











{% endblock %}